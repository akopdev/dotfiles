#!/bin/zsh

unset PROJECT_DIR

if [ -z "$1" ]; then
  PROJECT_NAME="$(exa --icons -D $PROJECTS | fzf --layout=reverse --height=40% --layout=reverse --info=inline --border --margin=1 | tail -c +5)"
  echo $PROJECT_NAME
  if [ ! -z $PROJECT_NAME ]; then
    PROJECT_DIR="$PROJECTS/$PROJECT_NAME"
  fi
else
  PROJECT_DIR="$PROJECTS/$1"
fi

if [ ! -z $PROJECT_DIR ] && [ -d $PROJECT_DIR ]; then
  cd $PROJECT_DIR && nvim
fi

